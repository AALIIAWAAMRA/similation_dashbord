<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Simulation Topics</title>
   <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
   <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
   <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" rel="stylesheet">
   <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.10.3/cdn.min.js" defer></script>
   <script src="./main.js"></script>
   <style>
      /* Wheel container styling */
      .wheel-container {
         perspective: 1000px;
      }

      /* Wheel styling */
      .wheel {
         transform-style: preserve-3d;
         transition: transform 5s cubic-bezier(0.17, 0.67, 0.26, 0.94);
         transform-origin: center;
         box-shadow: 0 0 30px rgba(79, 70, 229, 0.2);
      }

      /* Wheel slice text styling */
      .wheel-slice span {
         display: inline-block;
         max-width: 80px;
         text-overflow: ellipsis;
         white-space: nowrap;
         overflow: hidden;
      }

      /* Confetti animation */
      @keyframes confettiFall {
         0% {
            transform: translateY(0) rotate(0deg);
            opacity: 1;
         }

         100% {
            transform: translateY(100vh) rotate(720deg);
            opacity: 0;
         }
      }

      /* For small mobile screens */
      @media (max-width: 640px) {
         .wheel {
            width: 280px;
            height: 280px;
         }

         .wheel-slice span {
            font-size: 10px;
            max-width: 60px;
         }
      }

      /* Progress bar styling */
      .progress-container {
         background-color: #e2e8f0;
         border-radius: 0.5rem;
         height: 0.75rem;
         overflow: hidden;
      }

      .progress-bar {
         height: 100%;
         border-radius: 0.5rem;
         transition: width 0.5s ease;
      }
      /* Dark mode styles */
   .dark-mode {
      @apply bg-gray-900;
      color-scheme: dark;
   }
   
   .dark-mode .bg-white {
      @apply bg-gray-800;
   }
   
   .dark-mode .text-gray-900,
   .dark-mode .text-gray-800,
   .dark-mode .text-gray-700 {
      @apply text-gray-100;
   }
   
   .dark-mode .text-gray-600,
   .dark-mode .text-gray-500 {
      @apply text-gray-300;
   }
   
   .dark-mode .text-indigo-800,
   .dark-mode .text-indigo-700 {
      @apply text-indigo-300;
   }
   
   .dark-mode .border-gray-200,
   .dark-mode .border-gray-300 {
      @apply border-gray-700;
   }
   
   .dark-mode .bg-gray-50 {
      @apply bg-gray-700;
   }
   
   .dark-mode .bg-indigo-50 {
      @apply bg-indigo-900 bg-opacity-30;
   }
   
   .dark-mode .shadow-xl {
      @apply shadow-none;
   }
   
   .dark-mode .from-purple-50 {
      @apply from-gray-900;
   }
   
   .dark-mode .to-indigo-100 {
      @apply to-gray-800;
   }
   
   .dark-mode table thead {
      @apply bg-gray-700 text-gray-100;
   }
   
   .dark-mode table tbody tr:nth-child(even) {
      @apply bg-gray-700;
   }
   
   .dark-mode table tbody tr:nth-child(odd) {
      @apply bg-gray-750;
   }
   
   .dark-mode table tbody tr:hover {
      @apply bg-gray-600;
   }
   </style>
</head>
<body class="bg-gradient-to-br from-purple-50 to-indigo-100 min-h-screen">
   <div x-data="simulationApp()" class="container mx-auto px-4 py-8">
      <!-- Header Section -->
      <header class="text-center mb-12 animate__animated animate__fadeInDown">
         <h1 class="text-4xl md:text-5xl font-bold text-indigo-800 mb-4">Simulation Topics</h1>
         <div class="mt-4">
   <button 
      @click="toggleDarkMode()" 
      class="bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full px-4 py-2 flex items-center transition-colors duration-200"
      :class="{'bg-gray-700 text-gray-300': darkMode, 'bg-gray-200 text-gray-700': !darkMode}"
   >
      <i class="fas" :class="darkMode ? 'fa-sun' : 'fa-moon'"></i>
      <span class="ml-2" x-text="darkMode ? 'Light Mode' : 'Dark Mode'"></span>
   </button>
</div>

         <p class="text-lg text-gray-600 max-w-2xl mx-auto">Hello informatio Security engineers, I'm Nidhal. Welcome to our simulation project management page. This page will help us organize the selection and tracking of simulation topics for our research.</p>
      </header>
      
      <!-- About Me Section -->
      <div class="bg-white rounded-lg shadow-xl p-6 mb-10 animate__animated animate__fadeInUp">
         <div class="flex flex-col md:flex-row items-center gap-8">
            <div class="w-40 h-40 rounded-full overflow-hidden border-4 border-indigo-500 shadow-lg flex-shrink-0 mx-auto md:mx-0">
               <!-- Replace with your photo URL or use placeholder -->
               <img src="./src/about_us_nidhal.jpg" alt="Nidhal Lhassen" class="w-full h-full object-cover">
            </div>
            <div class="flex-grow text-center md:text-left">
               <h2 class="text-2xl font-bold text-indigo-700 mb-2">About Me</h2>
               <p class="text-gray-700 mb-4">I'm Nidhal lahcen, an Information Security Engineer with a passion for simulation and modeling. I enjoy creating tools that help engineers better understand complex systems through simulation and visualization.</p>
               
               <div class="flex justify-center md:justify-start gap-4 mt-4">
                  <a href="https://github.com/NIDHAL198" target="_blank" class="bg-gray-800 hover:bg-black text-white px-4 py-2 rounded-md flex items-center transition-colors duration-200">
                     <i class="fab fa-github mr-2"></i> GitHub
                  </a>
                  <a href="https://www.linkedin.com/in/nidhal-lahessane-8ba0a6296" target="_blank" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center transition-colors duration-200">
                     <i class="fab fa-linkedin mr-2"></i> LinkedIn
                  </a>
               </div>
            </div>
         </div>
      </div>
      
      <!-- Project Progress Dashboard -->
      <div class="bg-white rounded-lg shadow-xl p-6 mb-10 animate__animated animate__fadeInUp">
         <h2 class="text-2xl font-semibold text-indigo-700 mb-6 flex items-center">
            <i class="fas fa-chart-line mr-3"></i>
            Project Progress
         </h2>
         
         <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- Topics Reserved -->
            <div class="bg-indigo-50 rounded-lg p-4 border border-indigo-100">
               <h3 class="text-lg font-medium text-indigo-700 mb-2">Topics Reserved</h3>
               <div class="flex items-end gap-3">
                  <span class="text-3xl font-bold text-indigo-800" x-text="getReservedCount()"></span>
                  <span class="text-gray-500">of</span>
                  <span class="text-xl font-medium text-gray-600" x-text="topics.length"></span>
               </div>
               <div class="mt-3 progress-container">
                  <div 
                     class="progress-bar bg-indigo-600" 
                     :style="`width: ${(getReservedCount() / topics.length) * 100}%`"
                  ></div>
               </div>
            </div>
            
            <!-- By Category -->
            <div class="bg-indigo-50 rounded-lg p-4 border border-indigo-100">
               <h3 class="text-lg font-medium text-indigo-700 mb-2">By Simulation Type</h3>
               <div class="space-y-2">
                  <template x-for="category in getCategories()" :key="category">
                     <div>
                        <div class="flex justify-between text-sm mb-1">
                           <span x-text="category"></span>
                           <span x-text="`${getCategoryCount(category)} topics`"></span>
                        </div>
                        <div class="progress-container">
                           <div 
                              class="progress-bar" 
                              :class="{
                                 'bg-blue-500': category === 'Physics',
                                 'bg-green-500': category === 'Business',
                                 'bg-purple-500': category === 'Engineering',
                                 'bg-yellow-500': category === 'Healthcare',
                                 'bg-red-500': category === 'Social'
                              }"
                              :style="`width: ${(getCategoryCount(category) / topics.length) * 100}%`"
                           ></div>
                        </div>
                     </div>
                  </template>
               </div>
            </div>
            
            <!-- Popular Tools -->
            <div class="bg-indigo-50 rounded-lg p-4 border border-indigo-100">
               <h3 class="text-lg font-medium text-indigo-700 mb-2">Popular Tools</h3>
               <div class="space-y-2">
                  <template x-for="(count, tool) in getToolCounts()" :key="tool">
                     <div x-show="count > 0" class="flex justify-between items-center">
                        <span class="text-gray-700" x-text="tool"></span>
                        <span class="bg-indigo-100 text-indigo-800 px-2 py-1 rounded-full text-xs font-medium" x-text="count"></span>
                     </div>
                  </template>
               </div>
            </div>
         </div>
      </div>
      
      <!-- Main Content -->
      <main class="max-w-6xl mx-auto">
         <!-- Topic Selection -->
         <div class="bg-white rounded-lg shadow-xl p-6 mb-10 animate__animated animate__fadeInUp">
            <h2 class="text-2xl font-semibold text-indigo-700 mb-6 flex items-center">
               <i class="fas fa-project-diagram mr-3"></i>
               Available Simulation Topics
            </h2>
            
            <!-- Search and Filter -->
            <div class="mb-6 flex flex-col md:flex-row gap-4">
               <div class="relative flex-grow">
                  <input 
                     type="text" 
                     x-model="searchQuery" 
                     @input="filterTopics()"
                     class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 pl-10"
                     placeholder="Search topics, tools, or categories..."
                  >
                  <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
               </div>
               <div>
                  <select 
                     x-model="filterStatus" 
                     @change="filterTopics()"
                     class="w-full md:w-48 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  >
                     <option value="all">All Topics</option>
                     <option value="available">Available</option>
                     <option value="reserved">Reserved</option>
                  </select>
               </div>
               <div>
                  <select 
                     x-model="filterCategory" 
                     @change="filterTopics()"
                     class="w-full md:w-48 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  >
                     <option value="all">All Categories</option>
                     <template x-for="category in getCategories()" :key="category">
                        <option :value="category" x-text="category"></option>
                     </template>
                  </select>
               </div>
            </div>
            <!-- Export Options -->
<div class="mb-6 flex justify-between items-center">
   <div class="text-sm text-gray-500">
      Showing <span class="font-medium text-indigo-700" x-text="filteredTopics.length"></span> topics
   </div>
   
   <div class="relative" x-data="{ exportOptions: false }">
      <button 
         @click="exportOptions = !exportOptions" 
         class="bg-indigo-100 hover:bg-indigo-200 text-indigo-700 px-4 py-2 rounded-md flex items-center transition-colors duration-150"
      >
         <i class="fas fa-file-export mr-2"></i>
         Export
         <i class="fas fa-chevron-down ml-2 text-xs"></i>
      </button>
      
      <div 
         x-show="exportOptions" 
         @click.away="exportOptions = false"
         class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200"
      >
         <div class="py-1">
            <button 
               @click="exportToCSV(); exportOptions = false;" 
               class="w-full text-left px-4 py-2 text-gray-700 hover:bg-indigo-50 flex items-center"
            >
               <i class="fas fa-file-csv mr-2 text-green-500"></i>
               Export to CSV
            </button>
            <button 
               @click="exportToJSON(); exportOptions = false;" 
               class="w-full text-left px-4 py-2 text-gray-700 hover:bg-indigo-50 flex items-center"
            >
               <i class="fas fa-file-code mr-2 text-blue-500"></i>
               Export to JSON
            </button>
            <button 
               @click="printTopics(); exportOptions = false;" 
               class="w-full text-left px-4 py-2 text-gray-700 hover:bg-indigo-50 flex items-center"
            >
               <i class="fas fa-print mr-2 text-gray-500"></i>
               Print Topics List
            </button>
         </div>
      </div>
   </div>
</div>

<!-- Modify the Topics Table to add the click action to show details -->
<!-- Update the first table cell in your Topics Table -->
            
            <!-- Topics Table -->
            <div class="overflow-x-auto">
               <table class="min-w-full bg-white rounded-lg overflow-hidden">
                  <thead class="bg-indigo-600 text-white">
                     <tr>
                        <th class="py-3 px-4 text-left">Simulation Topic</th>
                        <th class="py-3 px-4 text-left">Tool</th>
                        <th class="py-3 px-4 text-left">Category</th>
                        <th class="py-3 px-4 text-left">Status</th>
                        <th class="py-3 px-4 text-left">Reserved By</th>
                        <th class="py-3 px-4 text-center">Action</th>
                        <th class="py-3 px-4 text-center">Description</th>
                     </tr>
                  </thead>
                  <tbody>
                     <template x-for="(topic, index) in filteredTopics" :key="index">
                        <tr :class="index % 2 === 0 ? 'bg-gray-50' : 'bg-white'" class="hover:bg-indigo-50 transition-colors duration-150">
                           <td class="py-3 px-4 border-b border-gray-200">
                              <div class="font-medium text-gray-900" x-text="topic.name"></div>
                           </td>
                           <td class="py-3 px-4 border-b border-gray-200">
                              <div class="flex items-center">
                                 <i 
                                    :class="{
                                       'fa-brands fa-python text-blue-500': topic.tool === 'Python',
                                       'fa-solid fa-cube text-orange-500': topic.tool === 'Blender',
                                       'fa-solid fa-calculator text-green-500': topic.tool === 'MATLAB',
                                       'fa-solid fa-atom text-purple-500': topic.tool === 'Unity',
                                       'fa-solid fa-square-root-variable text-red-500': topic.tool === 'AnyLogic',
                                       'fa-solid fa-chart-line text-blue-600': topic.tool === 'NetLogo',
                                       'fa-solid fa-sitemap text-green-600': topic.tool === 'SimScale',
                                       'fa-solid fa-microchip text-indigo-500': topic.tool === 'ANSYS',
                                       'fa-solid fa-cogs text-gray-700': true
                                    }"
                                    class="mr-2"
                                 ></i>
                                 <span x-text="topic.tool"></span>
                              </div>
                           </td>
                           <td class="py-3 px-4 border-b border-gray-200">
                              <span 
                                 :class="{
                                    'bg-blue-100 text-blue-800': topic.category === 'Physics',
                                    'bg-green-100 text-green-800': topic.category === 'Business',
                                    'bg-purple-100 text-purple-800': topic.category === 'Engineering',
                                    'bg-yellow-100 text-yellow-800': topic.category === 'Healthcare',
                                    'bg-red-100 text-red-800': topic.category === 'Social'
                                 }"
                                 class="py-1 px-2 rounded-full text-xs font-medium"
                                 x-text="topic.category"
                              ></span>
                           </td>
                           <td class="py-3 px-4 border-b border-gray-200">
                              <span 
                                 :class="topic.reserved ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800'"
                                 class="py-1 px-2 rounded-full text-xs font-medium"
                                 x-text="topic.reserved ? 'Reserved' : 'Available'"
                              ></span>
                           </td>
                           <td class="py-3 px-4 border-b border-gray-200">
                              <span x-text="topic.reservedBy || '—'"></span>
                           </td>
                           <td class="py-3 px-4 border-b border-gray-200 text-center">
                              <button 
                                 x-show="!topic.reserved" 
                                 @click="reserveTopic(index)"
                                 class="bg-indigo-600 hover:bg-indigo-700 text-white py-1 px-3 rounded-md text-sm transition-colors duration-150"
                              >
                                 Reserve
                              </button>
                              <span x-show="topic.reserved" class="text-gray-400">—</span>
                           </td>
                           <td class="py-3 px-4 border-b border-gray-200">
   <div 
      class="font-medium text-gray-900 cursor-pointer hover:text-indigo-600 flex items-center"
      @click="showTopicDetailsModal(topic)"
   >
      <span x-text="topic.name"></span>
      <i class="fas fa-info-circle ml-2 text-indigo-400"></i>
   </div>
</td>
                        </tr>
                     </template>
                     <tr x-show="filteredTopics.length === 0">
                        <td colspan="6" class="py-4 text-center text-gray-500 border-b border-gray-200">
                           No simulation topics found matching your search criteria.
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </div>
         
         <!-- Reservation Modal -->
         <div 
            x-show="showModal" 
            class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate__animated animate__fadeIn"
            x-transition:enter="transition ease-out duration-300"
            x-transition:enter-start="opacity-0"
            x-transition:enter-end="opacity-100"
            x-transition:leave="transition ease-in duration-200"
            x-transition:leave-start="opacity-100"
            x-transition:leave-end="opacity-0"
         >
            <div 
               class="bg-white rounded-lg shadow-xl p-6 w-full max-w-md animate__animated animate__zoomIn"
               @click.away="showModal = false"
            >
               <h3 class="text-xl font-semibold text-gray-900 mb-4">Reserve Topic</h3>
               <p class="mb-4 text-gray-600">You are about to reserve: <span class="font-medium text-indigo-700" x-text="selectedTopic?.name"></span></p>
               
               <div class="mb-4">
                  <label class="block text-gray-700 text-sm font-bold mb-2" for="studentName">
                     Your Name
                  </label>
                  <input 
                     id="studentName" 
                     type="text" 
                     x-model="studentName" 
                     class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"
                     placeholder="Enter your name or team members"
                  >
               </div>
               
               
               <div class="flex justify-end gap-3">
                  <button 
                     @click="showModal = false" 
                     class="px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors duration-150"
                  >
                     Cancel
                  </button>
                  <button 
                     @click="confirmReservation()" 
                     class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors duration-150"
                     :disabled="!studentName.trim()"
                     :class="{'opacity-50 cursor-not-allowed': !studentName.trim()}"
                  >
                     Confirm Reservation
                  </button>
               </div>
            </div>
         </div>
         <!-- Topic Details Modal -->
<div 
   x-show="showTopicDetails" 
   class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate__animated animate__fadeIn"
   x-transition:enter="transition ease-out duration-300"
   x-transition:enter-start="opacity-0"
   x-transition:enter-end="opacity-100"
   x-transition:leave="transition ease-in duration-200"
   x-transition:leave-start="opacity-100"
   x-transition:leave-end="opacity-0"
>
   <div 
      class="bg-white rounded-lg shadow-xl p-6 w-full max-w-2xl animate__animated animate__zoomIn relative"
      @click.away="showTopicDetails = false"
   >
      <button 
         @click="showTopicDetails = false" 
         class="absolute top-4 right-4 text-gray-400 hover:text-gray-600"
      >
         <i class="fas fa-times text-xl"></i>
      </button>
      
      <div class="flex items-start">
         <!-- Topic Icon -->
         <div class="flex-shrink-0 mr-4 bg-indigo-100 rounded-lg p-4 hidden md:block">
            <i 
               :class="{
                  'fa-brands fa-python text-blue-500 text-4xl': detailedTopic?.tool === 'Python',
                  'fa-solid fa-cube text-orange-500 text-4xl': detailedTopic?.tool === 'Blender',
                  'fa-solid fa-calculator text-green-500 text-4xl': detailedTopic?.tool === 'MATLAB',
                  'fa-solid fa-atom text-purple-500 text-4xl': detailedTopic?.tool === 'Unity',
                  'fa-solid fa-square-root-variable text-red-500 text-4xl': detailedTopic?.tool === 'AnyLogic',
                  'fa-solid fa-chart-line text-blue-600 text-4xl': detailedTopic?.tool === 'NetLogo',
                  'fa-solid fa-sitemap text-green-600 text-4xl': detailedTopic?.tool === 'SimScale',
                  'fa-solid fa-microchip text-indigo-500 text-4xl': detailedTopic?.tool === 'ANSYS'
               }"
            ></i>
         </div>
         
         <!-- Topic Details -->
         <div class="flex-grow">
            <h3 class="text-2xl font-semibold text-gray-900 mb-2" x-text="detailedTopic?.name"></h3>
            
            <div class="flex flex-wrap gap-2 mb-4">
               <span 
                  :class="{
                     'bg-blue-100 text-blue-800': detailedTopic?.category === 'Physics',
                     'bg-green-100 text-green-800': detailedTopic?.category === 'Business',
                     'bg-purple-100 text-purple-800': detailedTopic?.category === 'Engineering',
                     'bg-yellow-100 text-yellow-800': detailedTopic?.category === 'Healthcare',
                     'bg-red-100 text-red-800': detailedTopic?.category === 'Social'
                  }"
                  class="py-1 px-3 rounded-full text-sm font-medium"
                  x-text="detailedTopic?.category"
               ></span>
               
               <span 
                  :class="detailedTopic?.reserved ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800'"
                  class="py-1 px-3 rounded-full text-sm font-medium"
                  x-text="detailedTopic?.reserved ? 'Reserved' : 'Available'"
               ></span>
               
               <span class="py-1 px-3 rounded-full text-sm font-medium bg-gray-100 text-gray-800 flex items-center">
                  <i class="fas fa-tools mr-1"></i>
                  <span x-text="detailedTopic?.tool"></span>
               </span>
            </div>
            
            <div class="mb-6">
               <h4 class="text-lg font-medium text-gray-700 mb-2">Description</h4>
               <p class="text-gray-600" x-text="getTopicDescription(detailedTopic?.name)"></p>
            </div>
            
            <div class="mb-6" x-show="detailedTopic?.reserved">
               <h4 class="text-lg font-medium text-gray-700 mb-2">Team Members</h4>
               <div class="flex flex-wrap gap-2">
                  <template x-for="member in getTeamMembers(detailedTopic?.reservedBy)" :key="member">
                     <span class="bg-indigo-100 text-indigo-800 py-1 px-3 rounded-full text-sm flex items-center">
                        <i class="fas fa-user mr-1"></i>
                        <span x-text="member.trim()"></span>
                     </span>
                  </template>
               </div>
            </div>
            
            <div class="mb-6">
               <h4 class="text-lg font-medium text-gray-700 mb-2">Key Learning Objectives</h4>
               <ul class="list-disc list-inside text-gray-600 space-y-1">
                  <template x-for="(objective, index) in getTopicObjectives(detailedTopic?.name)" :key="index">
                     <li x-text="objective"></li>
                  </template>
               </ul>
            </div>
            
            <div>
               <h4 class="text-lg font-medium text-gray-700 mb-2">Resources</h4>
               <div class="bg-gray-50 p-3 rounded-md">
                  <ul class="space-y-2">
                     <template x-for="(resource, index) in getTopicResources(detailedTopic?.tool)" :key="index">
                        <li class="flex items-start">
                           <i class="fas fa-link text-indigo-500 mt-1 mr-2"></i>
                           <div>
                              <p class="font-medium text-indigo-700" x-text="resource.title"></p>
                              <p class="text-sm text-gray-500" x-text="resource.url"></p>
                           </div>
                        </li>
                     </template>
                  </ul>
               </div>
            </div>
            
            <div class="mt-6 flex justify-end" x-show="!detailedTopic?.reserved">
               <button 
                  @click="reserveDetailedTopic()"
                  class="bg-indigo-600 hover:bg-indigo-700 text-white py-2 px-4 rounded-md text-sm transition-colors duration-150 flex items-center"
               >
                  <i class="fas fa-bookmark mr-2"></i>
                  Reserve This Topic
               </button>
            </div>
         </div>
      </div>
   </div>
</div>
      </main>

      <!-- Random Presenter Selector Section -->
      <div class="bg-white rounded-lg shadow-xl p-6 mb-10 animate__animated animate__fadeInUp">
         <h2 class="text-2xl font-semibold text-indigo-700 mb-6 flex items-center">
            <i class="fas fa-user-graduate mr-3"></i>
            Presentation Selector
         </h2>
         
         <div class="flex flex-col items-center">
            <p class="text-gray-600 mb-4 text-center">Who's presenting today? Spin the wheel to randomly select a group!</p>
            
            <!-- Presenter Wheel Container -->
            <div x-show="reservedTopicsForWheel.length > 0" class="relative w-full max-w-xl mb-8">
               <!-- Spinning Wheel -->
               <div class="wheel-container relative mx-auto">
                  <div 
                     x-ref="presenterWheel" 
                     class="wheel relative w-64 h-64 md:w-72 md:h-72 rounded-full border-8 border-indigo-600 bg-white shadow-xl mx-auto transition-transform duration-3000 ease-out"
                  >
                     <!-- Topic slices will be rendered based on reserved topics -->
                     <template x-for="(topic, index) in reservedTopicsForWheel" :key="index">
                        <div 
                           class="wheel-slice absolute top-0 left-0 w-full h-full origin-bottom overflow-hidden"
                           :style="`transform: rotate(${index * (360/reservedTopicsForWheel.length)}deg); 
                                  clip-path: polygon(50% 50%, 50% 0%, ${50 + 50 * Math.sin(Math.PI/reservedTopicsForWheel.length)}% ${50 - 50 * Math.cos(Math.PI/reservedTopicsForWheel.length)}%, 
                                  ${50 + 50 * Math.sin(Math.PI/reservedTopicsForWheel.length * 2)}% ${50 - 50 * Math.cos(Math.PI/reservedTopicsForWheel.length * 2)}%);
                                  background-color: ${getSliceColor(index)};`"
                        >
                           <div 
                              class="absolute w-full text-center top-6 left-0 transform -rotate-90 text-sm font-medium text-white break-words px-2"
                              :style="`transform: rotate(${-(index * (360/reservedTopicsForWheel.length)) + (180/reservedTopicsForWheel.length)}deg);`"
                           >
                              <span x-text="topic.name.length > 15 ? topic.name.substring(0, 15) + '...' : topic.name"></span>
                           </div>
                        </div>
                     </template>
                     
                     <!-- Center of wheel -->
                     <div class="absolute inset-0 flex items-center justify-center">
                        <div class="w-12 h-12 md:w-16 md:h-16 rounded-full bg-white border-4 border-indigo-600 z-10 flex items-center justify-center">
                           <i class="fas fa-graduation-cap text-indigo-600 text-xl"></i>
                        </div>
                     </div>
                  </div>
               </div>
               
               <!-- Selected Topic Display -->
               <div x-show="selectedPresenter" class="mt-8 text-center animate__animated animate__bounceIn">
                  <h3 class="text-xl font-bold text-indigo-700 mb-2">Selected Presentation:</h3>
                  <div class="bg-indigo-50 rounded-lg p-4 border-2 border-indigo-200">
                     <p class="text-lg font-medium text-indigo-800" x-text="selectedPresenter?.name"></p>
                     <p class="text-gray-600"><span class="font-medium">Tool:</span> <span x-text="selectedPresenter?.tool"></span></p>
                     <p class="text-gray-600">Presented by: <span class="font-semibold" x-text="selectedPresenter?.reservedBy"></span></p>
                  </div>
               </div>
               
               <!-- Spin Button -->
               <div class="mt-6 text-center">
                  <button 
                     @click="spinPresenterWheel()" 
                     class="px-6 py-3 bg-indigo-600 text-white rounded-full hover:bg-indigo-700 transition-colors duration-150 shadow-lg transform hover:scale-105 flex items-center mx-auto"
                     :disabled="isSpinning"
                     :class="{'opacity-50 cursor-not-allowed': isSpinning}"
                  >
                     <i class="fas fa-sync-alt mr-2" :class="{'animate-spin': isSpinning}"></i>
                     <span x-text="isSpinning ? 'Spinning...' : 'Spin the Wheel'"></span>
                  </button>
               </div>
            </div>
            
            <!-- No reserved topics message -->
            <div x-show="reservedTopicsForWheel.length === 0" class="text-center py-8">
               <div class="text-5xl text-gray-300 mb-4">
                  <i class="fas fa-exclamation-circle"></i>
               </div>
               <p class="text-lg text-gray-500">No reserved topics available for the wheel.</p>
               <p class="text-gray-500">Students need to reserve topics first.</p>
            </div>
         </div>
      </div>
      
      <!-- Footer Section -->
      <footer class="mt-16 text-center animate__animated animate__fadeInUp">
         <div class="flex flex-col items-center justify-center">
            <div class="mb-4 relative inline-block">
               <div class="absolute -inset-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-full blur-sm opacity-75 animate-pulse"></div>
               <div class="relative px-6 py-3 bg-white rounded-full shadow-lg">
                  <p class="text-gray-800">Made with <i class="fas fa-heart text-red-500 animate-pulse"></i> by Nidhal lahcen</p>
               </div>
            </div>
            <p class="text-gray-500 text-sm">&copy; 2025 Simulation Topics Manager</p>
         </div>
      </footer>
   </div>
</body>
</html>